{"version":3,"sources":["res/logo-black.png","registerServiceWorker.js","services/mopidy.js","components/Thumbnail.jsx","components/ArtistSentence.jsx","components/PlaybackControls.jsx","components/NothingPlaying.jsx","components/NowPlaying.jsx","components/TracklistItem.jsx","components/Tracklist.jsx","components/SearchBox.jsx","components/SearchResultItem.jsx","components/Search.jsx","components/SearchOverlay.jsx","components/Home.jsx","components/SessionForm.jsx","pages/SessionPage.jsx","App.js","MopidyRoot.jsx","index.js","services/fingerprint.js"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","mopidy","PiboxError","message","name","Error","connectToMopidy","webSocketUrl","Promise","resolve","MopidyConnection","on","event","debug","initialiseMopidy","a","port","baseWebsocketUrl","websocketUrl","WebSocket","onmessage","data","JSON","parse","type","CustomEvent","detail","payload","warn","document","dispatchEvent","getTracklist","axios","get","result","tracklist","getPlaybackState","playback","getState","getArtwork","uri","library","getImages","uris","getHistory","history","getCurrentSession","session","sessionHistory","filter","x","startTime","map","tuple","getSpotifyPlaylists","playlists","asList","queueTrack","selectedTrack","length","track","info","add","tracks","updatedTracklist","startSession","skipThreshold","playlist","post","endSession","delete","searchSpotify","searchTerms","search","query","any","exact","voteToSkipTrack","fingerprint","getFingerprint","playIfStopped","play","togglePlaybackState","resume","pause","Thumbnail","className","src","this","props","url","alt","React","Component","ArtistSentence","artists","artist","index","separator","content","key","PlaybackControls","playbackState","onClick","iconStyle","width","height","Fab","style","position","bottom","color","NothingPlaying","logo","role","aria-label","NowPlaying","useState","artworkUrl","setArtworkUrl","setTrack","setPlaybackState","useEffect","callback","updateCurrentTrack","getCurrentTrack","currentTrack","updatePlaybackState","new_state","artwork","updateArtwork","album","useStyles","makeStyles","theme","card","margin","display","justifyContent","alignItems","paddingLeft","paddingTop","paddingBottom","paddingRight","actions","flex","rightIcon","marginLeft","TracklistItem","buttonEnabled","onVoteClick","classes","artistSentence","buttonIcon","voted","Card","CardContent","Typography","component","CardActions","Button","disabled","votes","Tracklist","setTracklist","votePending","setVotePending","updateTracklist","generateSkipHandler","trackUri","setTrackAsVoted","t","tracklistItems","slice","root","padding","input","iconButton","divider","SearchBox","value","onValueChange","onSubmit","Paper","preventDefault","InputBase","placeholder","inputProps","onChange","target","autoFocus","IconButton","useStyle","SearchResultItem","artistAndAlbum","noWrap","Spinner","require","Search","displayResults","results","setResults","fetching","setFetching","setError","searchTerm","setSearchTerm","useHistory","enqueueSnackbar","useSnackbar","queue","variant","push","queryParameters","split","searchResults","defaultStyleBar","maxWidth","transition","transitionStylesBar","entering","entered","defaultStyleResults","transitionStylesResults","opacity","fadeIn","appear","in","timeout","term","SearchOverlay","defaultStyle","left","right","top","background","overflowY","zIndex","transitionStyles","onSearch","Home","to","fontSize","path","render","SessionForm","defaultPlaylistUri","onStartSessionClick","setPlaylists","votesToSkip","setVotesToSkip","selectedPlaylist","setSelectedPlaylist","spotifyPlaylists","getPlaylists","menuItems","MenuItem","TextField","fullWidth","label","FormControl","InputLabel","Select","autoWidth","SessionPage","createSession","started","createMuiTheme","palette","primary","main","teal","secondary","pink","App","setSession","useLocation","updateCurrentSession","currentSession","addEventListener","onSessionEnded","pathname","ThemeProvider","MopidyRoot","connected","setConnected","initialiseFingerprint","ReactDOM","getElementById","initialise","URL","process","origin","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","requestIdleCallback","Fingerprint2","exclude","userAgent","sessionStorage","localStorage","indexedDb","addBehavior","openDatabase","doNotTrack","plugins","canvas","webgl","adBlock","fonts","fontsFlash","audio","enumerateDevices","fingerprintString","stringify","hash","i","charCodeAt","base64Fingerprint","Buffer","from","toString","defaults","common"],"mappings":"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","file":"static/js/main.8cb738f6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import axios from \"axios\";\nimport MopidyConnection from \"mopidy\";\nimport { getFingerprint } from \"./fingerprint\";\n\nlet mopidy = null;\nlet connected = false;\n\nexport class PiboxError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"PiboxError\";\n  }\n}\n\nconst connectToMopidy = (webSocketUrl) =>\n  new Promise((resolve) => {\n    mopidy = new MopidyConnection({\n      webSocketUrl,\n    });\n\n    mopidy.on(\"state\", (event) => {\n      console.debug(`Mopidy state change: ${event}`);\n    });\n\n    mopidy.on(\"state:online\", () => {\n      connected = true;\n    });\n\n    mopidy.on(\"state:offline\", () => {\n      connected = false;\n    });\n\n    mopidy.on(\"reconnectionPending\", () => {\n      connected = false;\n    });\n\n    mopidy.on(\"reconnecting\", () => {\n      connected = false;\n    });\n\n    resolve(mopidy);\n  });\n\nconst connectToPibox = (websocketUrl) => {\n  const piboxWebsocket = new WebSocket(websocketUrl);\n\n  piboxWebsocket.onmessage = (message) => {\n    var data = JSON.parse(message.data);\n\n    let event;\n\n    switch (data.type) {\n      case \"NEW_VOTE\":\n        event = new CustomEvent(\"pibox:newVote\", {\n          detail: data.payload,\n        });\n        break;\n\n      case \"SESSION_STARTED\":\n        event = new CustomEvent(\"pibox:sessionStart\", {\n          detail: data.payload,\n        });\n        break;\n\n      case \"SESSION_ENDED\":\n        event = new CustomEvent(\"pibox:sessionEnd\", {\n          detail: data.payload,\n        });\n        break;\n\n      default:\n        console.warn(\"Default pibox websocket statement hit\");\n        break;\n    }\n\n    document.dispatchEvent(event);\n  };\n};\n\nexport const initialiseMopidy = async () => {\n  // eslint-disable-next-line no-restricted-globals\n  const hostname = location.hostname;\n  // eslint-disable-next-line no-restricted-globals\n  const port = location.port ? `:${location.port}` : \"\";\n  const baseWebsocketUrl = `ws://${hostname}${port}`;\n  mopidy = await connectToMopidy(`${baseWebsocketUrl}/mopidy/ws/`);\n  connectToPibox(`${baseWebsocketUrl}/pibox/ws`);\n  return mopidy;\n};\n\nexport const isConnected = () => connected;\n\nexport const getTracklist = async () => {\n  const result = await axios.get(\"/pibox/api/tracklist/\");\n  return result.data.tracklist;\n};\n\nexport const getCurrentTrack = () => mopidy.playback.getCurrentTrack();\n\nexport const getPlaybackState = () => mopidy.playback.getState();\n\nexport const getArtwork = (uri) =>\n  new Promise((resolve) => {\n    mopidy.library.getImages({ uris: [uri] }).then((result) => {\n      resolve(result[uri][0].uri);\n    });\n  });\n\nexport const getHistory = async () => {\n  const history = await mopidy.history.getHistory();\n  const session = await getCurrentSession();\n\n  const sessionHistory = history.filter((x) => x[0] >= session.startTime);\n  return sessionHistory.map((tuple) => tuple[1].uri);\n};\n\nexport const getCurrentSession = async () => {\n  const result = await axios.get(\"/pibox/api/session\");\n  return result.data;\n};\n\nexport const getSpotifyPlaylists = async () => {\n  const playlists = await mopidy.playlists.asList();\n  return playlists;\n};\n\nexport const queueTrack = async (selectedTrack) => {\n  const history = await getHistory();\n\n  if (history.filter((uri) => uri === selectedTrack.uri).length > 0) {\n    throw new PiboxError(\"Track has already been played\");\n  }\n\n  const tracklist = await getTracklist();\n\n  if (\n    tracklist.filter((track) => track.info.uri === selectedTrack.uri).length > 0\n  ) {\n    throw new PiboxError(\"Track has already been queued\");\n  }\n\n  await mopidy.tracklist.add({ tracks: [selectedTrack] });\n  const updatedTracklist = [...tracklist, selectedTrack];\n  return updatedTracklist;\n};\n\nexport const startSession = async (skipThreshold, playlist) => {\n  const result = await axios.post(\"/pibox/api/session\", {\n    skipThreshold,\n    playlist,\n  });\n  return result.data;\n};\n\nexport const endSession = async () => {\n  const result = await axios.delete(\"/pibox/api/session\");\n  return result.data;\n};\n\nexport const searchSpotify = (searchTerms) =>\n  new Promise((resolve) => {\n    mopidy.library\n      .search({ query: { any: searchTerms }, uris: [\"spotify:\"], exact: false })\n      .then((result) => {\n        resolve(result[0].tracks);\n      });\n  });\n\nexport const voteToSkipTrack = async (uri) => {\n  const fingerprint = getFingerprint();\n\n  try {\n    const result = await axios.post(\"/pibox/api/vote\", {\n      uri,\n      fingerprint,\n    });\n    return result.data;\n  } catch (error) {\n    throw new PiboxError(\"User has already voted on this track\");\n  }\n};\n\nexport const playIfStopped = async () => {\n  const playbackState = await getPlaybackState();\n  if (playbackState === \"stopped\") {\n    mopidy.playback.play();\n  }\n};\n\nexport const togglePlaybackState = async () => {\n  const currentPlaybackState = await getPlaybackState();\n  if (currentPlaybackState === \"paused\") {\n    mopidy.playback.resume();\n  } else {\n    mopidy.playback.pause();\n  }\n};\n\nexport const onConnectionChanged = (callback) =>\n  mopidy.on(\"state\", (event) => {\n    switch (event) {\n      case \"state:online\":\n        callback(true);\n        break;\n\n      default:\n        callback(false);\n    }\n  });\n\nexport const onPlaybackChanged = (callback) =>\n  mopidy.on(\"event:playbackStateChanged\", (playback) =>\n    callback(playback.new_state)\n  );\n\nexport const onTracklistChanged = (callback) =>\n  mopidy.on(\"event:tracklistChanged\", async () => {\n    const tracklist = await getTracklist();\n    callback(tracklist);\n  });\n\nexport const onSessionStarted = (callback) =>\n  document.addEventListener(\"pibox:sessionStart\", (event) =>\n    callback(event.detail)\n  );\n\nexport const onSessionEnded = (callback) =>\n  document.addEventListener(\"pibox:sessionEnd\", () => callback());\n\nexport const onNewVote = (callback) =>\n  document.addEventListener(\"pibox:newVote\", (event) => callback(event.detail));\n","import React from \"react\";\nimport \"../style/Thumbnail.css\";\n\nexport default class Thumbnail extends React.Component {\n  render() {\n    return (\n      <img\n        className=\"thumbnail--artwork\"\n        src={this.props.url}\n        alt=\"Album artwork\"\n      />\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class ArtistSentence extends React.Component {\n  render() {\n    if (!this.props.artists) {\n      return <span>-</span>;\n    }\n\n    return (\n      <span\n        className={\n          this.props.className\n            ? this.props.className + \" artist-sentence\"\n            : \"artist-sentence\"\n        }\n      >\n        {this.props.artists.map((artist, index) => {\n          if (!artist) {\n            return <span>-</span>;\n          }\n\n          var separator = null;\n          if (index === this.props.artists.length - 2) {\n            separator = \" and \";\n          } else if (index < this.props.artists.length - 2) {\n            separator = \", \";\n          }\n\n          let content = <span>-</span>;\n\n          if (artist) {\n            content = <span>{artist.name}</span>;\n          }\n\n          return (\n            <span key={\"artist_\" + index}>\n              {content}\n              {separator}\n            </span>\n          );\n        })}\n      </span>\n    );\n  }\n}\n","import React from \"react\";\nimport { Fab } from \"@material-ui/core\";\nimport PauseIcon from \"@material-ui/icons/Pause\";\nimport PlayIcon from \"@material-ui/icons/PlayArrow\";\nimport \"../style/PlaybackControls.css\";\n\nconst PlaybackControls = ({ playbackState, onClick }) => {\n  const iconStyle = {\n    width: 45,\n    height: 45,\n  };\n\n  const buttonStyle = {\n    position: \"absolute\",\n    width: 65,\n    height: 65,\n    bottom: -30,\n  };\n\n  if (playbackState === \"stopped\") {\n    return null;\n  }\n\n  return (\n    <Fab style={buttonStyle} color=\"primary\" onClick={onClick}>\n      {playbackState === \"playing\" ? (\n        <PauseIcon style={iconStyle} />\n      ) : (\n        <PlayIcon style={iconStyle} />\n      )}\n    </Fab>\n  );\n};\n\nexport default PlaybackControls;\n","import React from \"react\";\nimport logo from \"res/logo-black.png\";\n\nconst NothingPlaying = () => (\n  <div className=\"no-song\">\n    <h2 className=\"no-song-heading\">Welcome to pibox!</h2>\n    <img className=\"no-song-logo\" alt=\"logo\" src={logo} />\n    <ol className=\"no-song-list\" type=\"1\">\n      <li className=\"no-song-list-item\">\n        Tap the search icon at the top right\n      </li>\n      <li className=\"no-song-list-item\">Search for an artist, song or album</li>\n      <li className=\"no-song-list-item\">Tap on the song you want to queue</li>\n      <li className=\"no-song-list-item\">\n        Enjoy!{\" \"}\n        <span role=\"img\" aria-label=\"Music Note\">\n          &#127925;\n        </span>\n      </li>\n    </ol>\n  </div>\n);\n\nexport default NothingPlaying;\n","import React, { useState } from \"react\";\nimport Thumbnail from \"./Thumbnail.jsx\";\nimport ArtistSentence from \"./ArtistSentence.jsx\";\nimport PlaybackControls from \"./PlaybackControls.jsx\";\nimport { useEffect } from \"react\";\nimport {\n  getArtwork,\n  getCurrentTrack,\n  onPlaybackChanged,\n  getPlaybackState,\n  togglePlaybackState,\n} from \"services/mopidy\";\nimport NothingPlaying from \"./NothingPlaying.jsx\";\nimport \"../style/NowPlaying.css\";\n\nconst NowPlaying = () => {\n  const [artworkUrl, setArtworkUrl] = useState(null);\n  const [track, setTrack] = useState(null);\n  const [playbackState, setPlaybackState] = useState(\"stopped\");\n\n  useEffect(() => {\n    const updateCurrentTrack = async () => {\n      const currentTrack = await getCurrentTrack();\n      setTrack(currentTrack);\n    };\n\n    const updatePlaybackState = async () => {\n      const playbackState = await getPlaybackState();\n      setPlaybackState(playbackState);\n    };\n\n    onPlaybackChanged(async () => {\n      updateCurrentTrack();\n      updatePlaybackState();\n    });\n    updateCurrentTrack();\n    updatePlaybackState();\n  }, []);\n\n  useEffect(() => {\n    const updateArtwork = async () => {\n      if (track) {\n        const artwork = await getArtwork(track.uri);\n        setArtworkUrl(artwork);\n      }\n    };\n    updateArtwork();\n  }, [setArtworkUrl, track]);\n\n  if (!track) {\n    return <NothingPlaying />;\n  }\n\n  return (\n    <div>\n      <h3 className=\"now-playing-heading\">Now Playing</h3>\n      <div className=\"now-playing\">\n        <div className=\"artwork-and-playback\">\n          {artworkUrl && <Thumbnail url={artworkUrl} />}\n          <PlaybackControls\n            playbackState={playbackState}\n            onClick={togglePlaybackState}\n          />\n        </div>\n        <div className=\"info\">\n          <h2 className=\"title\">{track.name}</h2>\n          <h3 className=\"artist\">\n            <ArtistSentence artists={track.artists} />\n          </h3>\n          <h3 className=\"album\">{track.album.name}</h3>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NowPlaying;\n","import React from \"react\";\nimport ArtistSentence from \"./ArtistSentence.jsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport {\n  Card,\n  CardContent,\n  CardActions,\n  Typography,\n  Button,\n} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    margin: 10,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  content: {\n    paddingLeft: 15,\n    paddingTop: 15,\n    paddingBottom: 15,\n    paddingRight: 5,\n  },\n  actions: {\n    flex: \"0 0 auto\",\n  },\n  rightIcon: {\n    marginLeft: 3,\n  },\n}));\n\nconst TracklistItem = ({\n  track,\n  skipThreshold,\n  buttonEnabled,\n  onVoteClick,\n}) => {\n  const classes = useStyles();\n\n  const artistSentence = <ArtistSentence artists={track.info.artists} />;\n\n  const buttonIcon = track.voted ? null : (\n    <SkipNextIcon className={classes.rightIcon} />\n  );\n\n  return (\n    <Card className={classes.card}>\n      <CardContent className={classes.content}>\n        <Typography type=\"subheading\" component=\"h2\">\n          {track.info.name}\n        </Typography>\n        <Typography type=\"body2\" component=\"h2\">\n          {artistSentence}\n        </Typography>\n      </CardContent>\n      <CardActions className={classes.actions}>\n        <Button\n          disabled={!buttonEnabled}\n          onClick={onVoteClick}\n          color=\"secondary\"\n        >\n          {track.voted ? track.votes + \"/\" + skipThreshold + \" votes\" : \"Vote\"}\n          {buttonIcon}\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default TracklistItem;\n","import React, { useState, useEffect } from \"react\";\nimport TracklistItem from \"./TracklistItem.jsx\";\nimport {\n  getTracklist,\n  onTracklistChanged,\n  voteToSkipTrack,\n  PiboxError,\n} from \"services/mopidy\";\nimport \"../style/Tracklist.css\";\n\nconst Tracklist = ({ display }) => {\n  const [tracklist, setTracklist] = useState([]);\n  const [votePending, setVotePending] = useState(false);\n\n  const updateTracklist = async () => {\n    const tracklist = await getTracklist();\n    setTracklist(tracklist);\n  };\n\n  useEffect(() => {\n    onTracklistChanged(async () => {\n      updateTracklist();\n    });\n    updateTracklist();\n  }, []);\n\n  const generateSkipHandler = (track) => async () => {\n    const trackUri = track.info.uri;\n    const setTrackAsVoted = () => {\n      updateTracklist();\n      setTracklist(\n        [...tracklist].map((t) =>\n          t.info.uri === trackUri ? { ...t, voted: true } : t\n        )\n      );\n    };\n\n    setVotePending(true);\n    try {\n      await voteToSkipTrack(trackUri);\n      setTrackAsVoted();\n    } catch (e) {\n      if (e instanceof PiboxError) {\n        setTrackAsVoted();\n      }\n    }\n    setVotePending(false);\n  };\n\n  const tracklistItems = tracklist\n    .slice(1, 1 + display)\n    .map((track) => (\n      <TracklistItem\n        key={track.info.uri}\n        track={track}\n        skipThreshold={2}\n        buttonEnabled={!(votePending || track.voted)}\n        onVoteClick={generateSkipHandler(track)}\n      />\n    ));\n\n  return <div className=\"tracklist\">{tracklistItems}</div>;\n};\n\nexport default Tracklist;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport \"../style/SearchBox.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  input: {\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n}));\n\nexport const SearchBox = ({ value, onValueChange, onSubmit }) => {\n  const classes = useStyles();\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    onSubmit();\n  };\n\n  return (\n    <Paper component=\"form\" className={classes.root} onSubmit={handleSubmit}>\n      <InputBase\n        className={classes.input}\n        placeholder=\"Search Spotify\"\n        inputProps={{ \"aria-label\": \"search \" }}\n        value={value}\n        onChange={(event) => onValueChange(event.target.value)}\n        autoFocus\n      />\n      <IconButton\n        type=\"submit\"\n        className={classes.iconButton}\n        aria-label=\"search\"\n      >\n        <SearchIcon />\n      </IconButton>\n    </Paper>\n  );\n};\n\nexport default SearchBox;\n","import React from \"react\";\nimport ArtistSentence from \"./ArtistSentence.jsx\";\nimport { Card, CardContent, Typography, makeStyles } from \"@material-ui/core\";\nimport \"../style/SearchResultItem.css\";\n\nconst useStyle = makeStyles((theme) => ({\n  card: {\n    margin: 10,\n  },\n  content: {\n    padding: 8,\n  },\n}));\n\nconst SearchResultItem = ({ track, onClick }) => {\n  const classes = useStyle();\n\n  const artistAndAlbum = (\n    <span>\n      <ArtistSentence artists={track.artists} /> - {track.album.name}\n    </span>\n  );\n\n  return (\n    <Card className={classes.card} onClick={() => onClick(track)}>\n      <CardContent className={classes.content}>\n        <Typography noWrap type=\"body2\" component=\"h2\">\n          {track.name}\n        </Typography>\n        <Typography noWrap type=\"body1\" component=\"h2\">\n          {artistAndAlbum}\n        </Typography>\n      </CardContent>\n      <div></div>\n    </Card>\n  );\n};\n\nexport default SearchResultItem;\n","import React, { useState } from \"react\";\nimport SearchBox from \"./SearchBox.jsx\";\nimport SearchResultItem from \"./SearchResultItem.jsx\";\nimport { Transition } from \"react-transition-group\";\nimport { searchSpotify, queueTrack, playIfStopped } from \"services/mopidy.js\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSnackbar } from \"notistack\";\nimport \"../style/Search.css\";\n\nvar Spinner = require(\"react-spinkit\");\n\nconst Search = () => {\n  const [results, setResults] = useState([]);\n  const [fetching, setFetching] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const history = useHistory();\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const queue = async (track) => {\n    try {\n      const updatedTracklist = await queueTrack(track);\n      playIfStopped();\n      setSearchTerm(\"\");\n\n      // TODO: This should use the actual length of the tracklist that is shown\n      if (updatedTracklist.length > 4) {\n        enqueueSnackbar(`${track.name} added to queue`, { variant: \"success\" });\n      }\n\n      history.push(\"\");\n    } catch (e) {\n      enqueueSnackbar(e.message, { variant: \"error\" });\n    }\n  };\n\n  const search = async () => {\n    if (!searchTerm) {\n      return;\n    }\n\n    setFetching(true);\n    const queryParameters = searchTerm.split(\" \");\n    try {\n      const results = await searchSpotify(queryParameters);\n      setResults(results);\n      setFetching(false);\n    } catch (error) {\n      setError(error);\n      setFetching(false);\n    }\n  };\n\n  const searchResults = results.map((track, index) => (\n    <SearchResultItem key={index} track={track} onClick={queue} />\n  ));\n\n  const defaultStyleBar = {\n    margin: \"0 auto\",\n    maxWidth: \"800px\",\n    transition: \"width 100ms ease-in-out\",\n  };\n\n  const transitionStylesBar = {\n    entering: { width: \"0%\" },\n    entered: { width: \"100%\" },\n  };\n\n  const defaultStyleResults = {\n    transition: \"opacity 100ms ease-in-out\",\n  };\n\n  const transitionStylesResults = {\n    entering: { opacity: 0 },\n    entered: { opacity: 100 },\n  };\n\n  let displayResults;\n\n  if (fetching) {\n    displayResults = (\n      <div className=\"loading\">\n        <Spinner fadeIn=\"none\" name=\"double-bounce\" color=\"white\" />\n      </div>\n    );\n  } else if (error) {\n    displayResults = (\n      <div className=\"error\">\n        <h4 className=\"error-info\">{error}</h4>\n      </div>\n    );\n  } else {\n    displayResults = <div className=\"results\">{searchResults}</div>;\n  }\n\n  return (\n    <div className=\"search\">\n      <Transition appear={true} in={true} timeout={100}>\n        {(state) => (\n          <div>\n            <div\n              style={{\n                ...defaultStyleBar,\n                ...transitionStylesBar[state],\n              }}\n            >\n              <div style={{ margin: \"10px\" }}>\n                <SearchBox\n                  onSubmit={search}\n                  term={searchTerm}\n                  onValueChange={setSearchTerm}\n                />\n              </div>\n            </div>\n            <div\n              style={{\n                ...defaultStyleResults,\n                ...transitionStylesResults[state],\n              }}\n            >\n              {displayResults}\n            </div>\n          </div>\n        )}\n      </Transition>\n    </div>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\nimport Search from \"./Search.jsx\";\nimport { Transition } from \"react-transition-group\";\n\nexport default class SearchOverlay extends React.Component {\n  render() {\n    const defaultStyle = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      position: \"fixed\",\n      background: \"rgba(0, 0, 0, 0)\",\n      overflowY: \"scroll\",\n      zIndex: 5,\n      transition: \"background 100ms ease-in-out\",\n    };\n\n    const transitionStyles = {\n      entering: { background: \"rgba(0, 0, 0, 0)\" },\n      entered: { background: \"rgba(0, 0, 0, 0.9)\" },\n    };\n\n    return (\n      <Transition appear={true} in={true} timeout={100}>\n        {(state) => (\n          <div\n            style={{\n              ...defaultStyle,\n              ...transitionStyles[state],\n            }}\n          >\n            <Search\n              playbackState={this.props.playbackState}\n              search={this.props.search}\n              onSearch={this.props.onSearch}\n              queueTrack={this.props.queueTrack}\n            />\n          </div>\n        )}\n      </Transition>\n    );\n  }\n}\n","import React from \"react\";\nimport NowPlaying from \"./NowPlaying.jsx\";\nimport Tracklist from \"./Tracklist.jsx\";\nimport { Link, Route } from \"react-router-dom\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { IconButton } from \"@material-ui/core\";\nimport SearchOverlay from \"./SearchOverlay.jsx\";\nimport \"../style/Home.css\";\n\nconst Home = () => {\n  return (\n    <div>\n      <div className=\"home\">\n        <ul className=\"nav-bar\">\n          <li className=\"nav-item-title\">\n            <h2 className=\"nav-title\">pibox</h2>\n          </li>\n          <li className=\"nav-item-search\">\n            <Link className=\"Link\" to=\"/pibox/search\">\n              <IconButton color=\"secondary\">\n                <SearchIcon fontSize=\"large\" />\n              </IconButton>\n            </Link>\n          </li>\n        </ul>\n        <NowPlaying />\n        <Tracklist display={3} />\n      </div>\n      <Route path=\"/pibox/search\" render={() => <SearchOverlay />} />\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport { getSpotifyPlaylists } from \"services/mopidy\";\nimport {\n  TextField,\n  Select,\n  MenuItem,\n  Button,\n  FormControl,\n  InputLabel,\n} from \"@material-ui/core\";\nimport \"../style/SessionForm.css\";\n\nconst SessionForm = ({ defaultPlaylistUri, onStartSessionClick }) => {\n  const [playlists, setPlaylists] = useState([]);\n  const [votesToSkip, setVotesToSkip] = useState(\"\");\n  const [selectedPlaylist, setSelectedPlaylist] = useState(defaultPlaylistUri);\n\n  useEffect(() => {\n    const getPlaylists = async () => {\n      const spotifyPlaylists = await getSpotifyPlaylists();\n      setPlaylists(spotifyPlaylists);\n    };\n\n    getPlaylists();\n  }, []);\n\n  const menuItems = playlists.map((playlist) => (\n    <MenuItem key={playlist.uri} value={playlist.uri}>\n      {playlist.name}\n    </MenuItem>\n  ));\n\n  const handleSessionClick = (event) => {\n    event.preventDefault();\n    onStartSessionClick({\n      selectedPlaylist,\n      votesToSkip,\n    });\n  };\n\n  return (\n    <form className=\"session-form\" onSubmit={handleSessionClick}>\n      <h2 className=\"no-song-heading\">pibox</h2>\n\n      <TextField\n        fullWidth\n        className=\"session-form-field\"\n        label=\"Number of votes to skip\"\n        type=\"number\"\n        value={votesToSkip}\n        onChange={(event) => setVotesToSkip(event.target.value)}\n        placeholder=\"3\"\n      />\n\n      <FormControl fullWidth>\n        <InputLabel>Playlist</InputLabel>\n        <Select\n          autoWidth\n          className=\"session-form-field-select\"\n          value={selectedPlaylist}\n          onChange={(event) => setSelectedPlaylist(event.target.value)}\n          placeholder=\"Select a playlist\"\n        >\n          {menuItems}\n        </Select>\n      </FormControl>\n\n      <Button\n        type=\"submit\"\n        className=\"session-form-field\"\n        variant=\"contained\"\n        disabled={!votesToSkip || !selectedPlaylist}\n        color=\"primary\"\n      >\n        Start\n      </Button>\n    </form>\n  );\n};\n\nexport default SessionForm;\n","import React from \"react\";\nimport { startSession, endSession } from \"services/mopidy\";\nimport { Button } from \"@material-ui/core\";\nimport SessionForm from \"components/SessionForm\";\nimport { useHistory } from \"react-router-dom\";\nimport \"style/pages/SessionPage.css\";\n\nconst SessionPage = ({ session }) => {\n  const history = useHistory();\n\n  const createSession = async ({ votesToSkip, selectedPlaylist }) => {\n    await startSession(votesToSkip, selectedPlaylist);\n    history.push(\"/pibox\");\n  };\n\n  return (\n    <div className=\"SessionPage\">\n      {!session.started ? (\n        <SessionForm\n          defaultPlaylistUri={\"spotify:playlist:79inBfAlnfUB7i5kRthmWL\"}\n          onStartSessionClick={createSession}\n        />\n      ) : (\n        <Button variant=\"contained\" onClick={endSession}>\n          End Session\n        </Button>\n      )}\n    </div>\n  );\n};\n\nexport default SessionPage;\n","import React, { useState, useEffect } from \"react\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport Spinner from \"react-spinkit\";\nimport teal from \"@material-ui/core/colors/teal\";\nimport pink from \"@material-ui/core/colors/pink\";\nimport Home from \"./components/Home.jsx\";\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\nimport {\n  getCurrentSession,\n  onSessionStarted,\n  onSessionEnded,\n} from \"services/mopidy.js\";\nimport { SnackbarProvider } from \"notistack\";\nimport \"./style/App.css\";\nimport SessionPage from \"pages/SessionPage.jsx\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: teal[500],\n    },\n    secondary: {\n      main: pink[500],\n    },\n  },\n});\n\nconst App = () => {\n  const [session, setSession] = useState(null);\n  const [fetching, setFetching] = useState(false);\n\n  const history = useHistory();\n  const location = useLocation();\n\n  useEffect(() => {\n    const updateCurrentSession = async () => {\n      setFetching(true);\n      const currentSession = await getCurrentSession();\n      setSession(currentSession);\n      setFetching(false);\n    };\n\n    onSessionStarted(async () => {\n      updateCurrentSession();\n    });\n    onSessionEnded(async () => {\n      updateCurrentSession();\n    });\n    updateCurrentSession();\n  }, []);\n\n  useEffect(() => {\n    if (\n      session &&\n      !session.started &&\n      location.pathname !== \"/pibox/session\" &&\n      !fetching\n    ) {\n      history.push(\"/pibox/session\");\n    }\n  }, [location, history, session, fetching]);\n\n  if (\n    !session ||\n    (session && fetching) ||\n    (session &&\n      !session.started &&\n      location.pathname !== \"/pibox/session\" &&\n      !fetching)\n  ) {\n    return <Spinner fadeIn=\"quarter\" name=\"double-bounce\" color=\"#00796B\" />;\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <SnackbarProvider>\n        <div className=\"App\">\n          <Switch>\n            <Route path=\"/pibox/session\">\n              <SessionPage session={session} />\n            </Route>\n            <Route>\n              <Home />\n            </Route>\n          </Switch>\n        </div>\n      </SnackbarProvider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n\nexport function getMopidy() {\n  return null;\n}\n","import React, { useState, useEffect } from \"react\";\nimport { onConnectionChanged } from \"services/mopidy\";\nimport Spinner from \"react-spinkit\";\nimport App from \"App\";\n\nconst MopidyRoot = () => {\n  const [connected, setConnected] = useState(false);\n\n  useEffect(() => {\n    onConnectionChanged(setConnected);\n  }, []);\n\n  if (!connected) {\n    return (\n      <div className=\"App\">\n        <div className=\"loading\">\n          <h1>pibox</h1>\n          <Spinner fadeIn=\"quarter\" name=\"double-bounce\" color=\"#00796B\" />\n        </div>\n      </div>\n    );\n  }\n\n  return <App />;\n};\n\nexport default MopidyRoot;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport { initialiseFingerprint } from \"services/fingerprint\";\nimport { initialiseMopidy } from \"services/mopidy\";\nimport MopidyRoot from \"MopidyRoot\";\nimport \"./style/index.css\";\n\nconst initialise = async () => {\n  await initialiseFingerprint();\n  await initialiseMopidy();\n\n  ReactDOM.render(\n    <Router>\n      <MopidyRoot />\n    </Router>,\n    document.getElementById(\"root\")\n  );\n};\n\ninitialise();\n\nregisterServiceWorker();\n","import Fingerprint2 from \"fingerprintjs2\";\nimport axios from \"axios\";\n\nlet fingerprint = null;\n\nconst generateFingerprint = () =>\n  new Promise((resolve) => {\n    requestIdleCallback(() => {\n      Fingerprint2.get(\n        {\n          exclude: {\n            userAgent: true,\n            sessionStorage: true,\n            localStorage: true,\n            indexedDb: true,\n            addBehavior: true,\n            openDatabase: true,\n            doNotTrack: true,\n            plugins: true,\n            canvas: true,\n            webgl: true,\n            adBlock: true,\n            fonts: true,\n            fontsFlash: true,\n            audio: true,\n            enumerateDevices: true,\n          },\n        },\n        (fingerprint) => {\n          const fingerprintString = JSON.stringify(fingerprint);\n          let hash = 0;\n          for (let i = 0; i < fingerprintString.length; i++) {\n            const chr = fingerprintString.charCodeAt(i);\n            hash = (hash << 5) - hash + chr;\n            hash |= 0; // Convert to 32bit integer\n          }\n          const base64Fingerprint = Buffer.from(hash.toString()).toString(\n            \"base64\"\n          );\n          resolve(base64Fingerprint);\n        }\n      );\n    });\n  });\n\nexport const initialiseFingerprint = async () => {\n  fingerprint = await generateFingerprint();\n  axios.defaults.headers.common[\"pibox-fingerprint\"] = fingerprint;\n  return fingerprint;\n};\n\nexport const getFingerprint = () => fingerprint;\n"],"sourceRoot":""}